Adjunct = c("***", "***", "***", "***"),
Complex_NP = c("***", "***", "***", "***"),
Coordination = c("***", "***", "***", "***"),
Left_Branch = c("N.S.", "**", "**", "*"),
Sentential_Subj = c("N.S.", "*", "N.S.", "*"),
Subject = c("***", "**", "N.S.", "*"),
Wh = c("***", "***", "**", "**")
) %>%
gather(island, significance, 2:8)
summary_df = merge(effect_df, sig_df, by=c("island", "model_name"))
sig_scale = c("***" = "green", "**" = "green", "*" = "green", "N.S." = "#5e5e5e")
summary_df %>%
group_by(model_name) %>%
arrange(desc(model_effect)) %>%
mutate(rank = row_number()) %>%
ungroup() %>%
#mutate(rank = if_else(significance == "N.S.", 0, as.double(rank))) %>%
ggplot(aes(x=island, y=model_name, fill=rank)) +
theme_bw() +
geom_tile() +
geom_label(aes(color=significance, label=paste(significance, "\n", substr(model_effect, 0, 3), sep="")), label.padding = unit(0.5, "lines")) +
scale_color_manual(values = sig_scale) +
#scale_fill_brewer(palette = "PuBu") +
ggtitle("Summary of Island Results: Effect Sizes and Significance") +
theme(
axis.title = element_blank(),
axis.text = element_text(size = 12),
legend.position = "none"
)
ggsave("./images/effect_size.pdf", width = 9, height = 4, device = cairo_pdf)
library(tidyverse)
library(plotrix)
library(Hmisc)
library(lme4)
library(lmerTest)
library(Cairo)
library(plotly)
library(factoextra)
data = read.csv("../data/results.csv", comment = "#", col.names=c("time_hash", "participant", "controller", "item", "element", "meta", "group", "trigger", "value")) %>%
mutate(value = as.numeric(as.character(value)),
participant = substr(participant, 0, 5)) %>%
separate(meta, sep="_", into=c("target", "form", "base", "context"))
data
# Filter out the participants who do not treat the "catch" questions correctly
filter_df = data %>%
filter(controller == "RangeForm", target=="practice1") %>%
filter(item == 4 | item == 6) %>%
group_by(participant, trigger) %>%
summarise(value = mean(value)) %>%
ungroup() %>%
spread(trigger, value) %>%
filter(plus_trigger > 25 & minus_trigger < 75)
filter_list = filter_df$participant
filter_list
rating_df = data %>%
filter(target == "target") %>%
select(-time_hash, -controller, -element, -target, -base, -group) %>%
filter(! participant %in% filter_list) %>%
group_by(participant) %>%
mutate(z_value = scale(value)) %>%
ungroup()
rating_df
rating_df = data %>%
filter(target == "target") %>%
select(-time_hash, -controller, -element, -target, -base, -group) %>%
filter(! participant %in% filter_list) %>%
group_by(participant) %>%
mutate(z_score = scale(value)) %>%
ungroup()
write_csv(rating_df, "./experimental_results.csv")
rating_df = data %>%
filter(target == "target") %>%
select(-time_hash, -controller, -element, -target, -base, -group) %>%
filter(! participant %in% filter_list) %>%
group_by(participant) %>%
mutate(z_score = scale(value)) %>%
ungroup()
write_csv(rating_df, "./wilcox-levy-davidson_experimental_results.csv")
library(tidyverse)
library(brms)
library(lme4)
library(lmerTest)
library(plotrix)
library(stringr)
library(readxl)
library(VGAM)
library(jsonlite)
library(viridis)
library(broom)
library(Cairo)
df = read.csv("../data/combined_results.csv")
adj = read_csv("./island_dfs/adjunct.csv") %>% mutate(test = "Adjunct")
cnp = read_csv("./island_dfs/cnp.csv") %>% mutate(test = "ComplexNP")
coord = read_csv("./island_dfs/coord.csv") %>% mutate(test = "Coordinate")
lb = read_csv("./island_dfs/lb.csv") %>% mutate(test = "LeftBranch")
sent_subj = read_csv("./island_dfs/sent_subj.csv") %>% mutate(test = "SentSubj")
subj = read_csv("./island_dfs/subj.csv") %>% mutate(test = "Subj")
wh = read_csv("./island_dfs/wh.csv") %>% mutate(test = "Wh")
island_effects = rbind(adj, cnp, coord, lb, sent_subj, subj, wh)
island_effects %>%
select(-upper, -lower, -s) %>%
filter(island != "that", island != "first") %>%
mutate(island = if_else(island == "obj", "gram", island),
island = if_else(island == "lb", "island", island),
island = if_else(island == "ss", "island", island),
island = if_else(island == "second", "island", island),
island = if_else(island == "subj", "island", island),
island = if_else(island == "wh", "island", island),
island = if_else(island == "nocomp", "gram", island),
island = if_else(island == "gram", "control", island)) %>%
mutate(m = if_else(gap == "gap", -1 * m, m),
m = if_else(m<0, 0, m)) %>%
spread(island, m) %>%
mutate(reduction = 1 - (1 / (control / island))) %>%
mutate(gap = if_else(gap=="gap", "Gap", "No Gap")) %>%
filter(model != "NGRAM") %>%
mutate(lab = substr(as.character(reduction), 0, 4),
lab = if_else(lab == "NaN", "", lab)) %>%
ggplot(aes(x=test, y=model, fill=reduction)) +
theme_bw() +
geom_tile() +
#geom_text(aes(label=paste(substr(value, 0, 3), "\n rank:", rank, sep="")), size = 2.5) +
geom_text(aes(label = lab)) +
#scale_fill_viridis(direction=1, option = "magma", begin=0.25) +
#labs(fill = "Percent\nReduction") +
facet_wrap(~gap) +
ggtitle("Percent Reduciton in Wh-Effects between Islands/Controls") +
theme(
axis.title = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1)
)
ggsave("./images/precent_reduction.pdf", height = 3.5, width = 9, device=cairo_pdf)
adj = read_csv("./island_dfs/adjunct.csv") %>% mutate(test = "Adjunct")
cnp = read_csv("./island_dfs/cnp.csv") %>% mutate(test = "ComplexNP")
coord = read_csv("./island_dfs/coord.csv") %>% mutate(test = "Coordinate")
lb = read_csv("./island_dfs/lb.csv") %>% mutate(test = "LeftBranch")
sent_subj = read_csv("./island_dfs/sent_subj.csv") %>% mutate(test = "SentSubj")
subj = read_csv("./island_dfs/subj.csv") %>% mutate(test = "Subj")
wh = read_csv("./island_dfs/wh.csv") %>% mutate(test = "Wh")
island_effects = rbind(adj, cnp, coord, lb, sent_subj, subj, wh)
island_effects %>%
select(-upper, -lower, -s) %>%
filter(island != "that", island != "first") %>%
mutate(island = if_else(island == "obj", "gram", island),
island = if_else(island == "lb", "island", island),
island = if_else(island == "ss", "island", island),
island = if_else(island == "second", "island", island),
island = if_else(island == "subj", "island", island),
island = if_else(island == "wh", "island", island),
island = if_else(island == "nocomp", "gram", island),
island = if_else(island == "gram", "control", island)) %>%
mutate(m = if_else(gap == "gap", -1 * m, m),
m = if_else(m<0, 0, m)) %>%
spread(island, m) %>%
mutate(reduction = 1 - (1 / (control / island))) %>%
mutate(gap = if_else(gap=="gap", "Gap", "No Gap")) %>%
filter(model != "NGRAM") %>%
mutate(lab = substr(as.character(reduction), 0, 4),
lab = if_else(lab == "NaN", "", lab)) %>%
ggplot(aes(x=test, y=model, fill=reduction)) +
theme_bw() +
geom_tile() +
#geom_text(aes(label=paste(substr(value, 0, 3), "\n rank:", rank, sep="")), size = 2.5) +
geom_text(aes(label = lab)) +
#scale_fill_viridis(direction=1, option = "magma", begin=0.25) +
scale_fill_gradient2(low = muted("red"), mid = "white", high = muted("blue"), midpoint = 0) +
#labs(fill = "Percent\nReduction") +
facet_wrap(~gap) +
ggtitle("Percent Reduciton in Wh-Effects between Islands/Controls") +
theme(
axis.title = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1)
)
adj = read_csv("./island_dfs/adjunct.csv") %>% mutate(test = "Adjunct")
cnp = read_csv("./island_dfs/cnp.csv") %>% mutate(test = "ComplexNP")
coord = read_csv("./island_dfs/coord.csv") %>% mutate(test = "Coordinate")
lb = read_csv("./island_dfs/lb.csv") %>% mutate(test = "LeftBranch")
sent_subj = read_csv("./island_dfs/sent_subj.csv") %>% mutate(test = "SentSubj")
subj = read_csv("./island_dfs/subj.csv") %>% mutate(test = "Subj")
wh = read_csv("./island_dfs/wh.csv") %>% mutate(test = "Wh")
island_effects = rbind(adj, cnp, coord, lb, sent_subj, subj, wh)
island_effects %>%
select(-upper, -lower, -s) %>%
filter(island != "that", island != "first") %>%
mutate(island = if_else(island == "obj", "gram", island),
island = if_else(island == "lb", "island", island),
island = if_else(island == "ss", "island", island),
island = if_else(island == "second", "island", island),
island = if_else(island == "subj", "island", island),
island = if_else(island == "wh", "island", island),
island = if_else(island == "nocomp", "gram", island),
island = if_else(island == "gram", "control", island)) %>%
mutate(m = if_else(gap == "gap", -1 * m, m),
m = if_else(m<0, 0, m)) %>%
spread(island, m) %>%
mutate(reduction = 1 - (1 / (control / island))) %>%
mutate(gap = if_else(gap=="gap", "Gap", "No Gap")) %>%
filter(model != "NGRAM") %>%
mutate(lab = substr(as.character(reduction), 0, 4),
lab = if_else(lab == "NaN", "", lab)) %>%
ggplot(aes(x=test, y=model, fill=reduction)) +
theme_bw() +
geom_tile() +
#geom_text(aes(label=paste(substr(value, 0, 3), "\n rank:", rank, sep="")), size = 2.5) +
geom_text(aes(label = lab)) +
#scale_fill_viridis(direction=1, option = "magma", begin=0.25) +
scale_fill_gradient2(low = "red", mid = "white", high = "blue", midpoint = 0) +
#labs(fill = "Percent\nReduction") +
facet_wrap(~gap) +
ggtitle("Percent Reduciton in Wh-Effects between Islands/Controls") +
theme(
axis.title = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1)
)
ggsave("./images/precent_reduction.pdf", height = 3.5, width = 9, device=cairo_pdf)
adj = read_csv("./island_dfs/adjunct.csv") %>% mutate(test = "Adjunct")
cnp = read_csv("./island_dfs/cnp.csv") %>% mutate(test = "ComplexNP")
coord = read_csv("./island_dfs/coord.csv") %>% mutate(test = "Coordinate")
lb = read_csv("./island_dfs/lb.csv") %>% mutate(test = "LeftBranch")
sent_subj = read_csv("./island_dfs/sent_subj.csv") %>% mutate(test = "SentSubj")
subj = read_csv("./island_dfs/subj.csv") %>% mutate(test = "Subj")
wh = read_csv("./island_dfs/wh.csv") %>% mutate(test = "Wh")
island_effects = rbind(adj, cnp, coord, lb, sent_subj, subj, wh)
island_effects %>%
select(-upper, -lower, -s) %>%
filter(island != "that", island != "first") %>%
mutate(island = if_else(island == "obj", "gram", island),
island = if_else(island == "lb", "island", island),
island = if_else(island == "ss", "island", island),
island = if_else(island == "second", "island", island),
island = if_else(island == "subj", "island", island),
island = if_else(island == "wh", "island", island),
island = if_else(island == "nocomp", "gram", island),
island = if_else(island == "gram", "control", island)) %>%
mutate(m = if_else(gap == "gap", -1 * m, m),
m = if_else(m<0, 0, m)) %>%
spread(island, m) %>%
mutate(reduction = 1 - (1 / (control / island))) %>%
mutate(gap = if_else(gap=="gap", "Gap", "No Gap")) %>%
filter(model != "NGRAM") %>%
mutate(lab = substr(as.character(reduction), 0, 4),
lab = if_else(lab == "NaN", "", lab)) %>%
ggplot(aes(x=test, y=model, fill=reduction)) +
theme_bw() +
geom_tile() +
#geom_text(aes(label=paste(substr(value, 0, 3), "\n rank:", rank, sep="")), size = 2.5) +
geom_text(aes(label = lab)) +
#scale_fill_viridis(direction=1, option = "magma", begin=0.25) +
scale_fill_gradient2(low = "#33489c", mid = "white", high = "#33489c", midpoint = 0) +
#labs(fill = "Percent\nReduction") +
facet_wrap(~gap) +
ggtitle("Percent Reduction in Wh-Effects between Islands/Controls") +
theme(
axis.title = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1)
)
ggsave("./images/precent_reduction.pdf", height = 3.5, width = 9, device=cairo_pdf)
adj = read_csv("./island_dfs/adjunct.csv") %>% mutate(test = "Adjunct")
cnp = read_csv("./island_dfs/cnp.csv") %>% mutate(test = "ComplexNP")
coord = read_csv("./island_dfs/coord.csv") %>% mutate(test = "Coordinate")
lb = read_csv("./island_dfs/lb.csv") %>% mutate(test = "LeftBranch")
sent_subj = read_csv("./island_dfs/sent_subj.csv") %>% mutate(test = "SentSubj")
subj = read_csv("./island_dfs/subj.csv") %>% mutate(test = "Subj")
wh = read_csv("./island_dfs/wh.csv") %>% mutate(test = "Wh")
island_effects = rbind(adj, cnp, coord, lb, sent_subj, subj, wh)
island_effects %>%
select(-upper, -lower, -s) %>%
filter(island != "that", island != "first") %>%
mutate(island = if_else(island == "obj", "gram", island),
island = if_else(island == "lb", "island", island),
island = if_else(island == "ss", "island", island),
island = if_else(island == "second", "island", island),
island = if_else(island == "subj", "island", island),
island = if_else(island == "wh", "island", island),
island = if_else(island == "nocomp", "gram", island),
island = if_else(island == "gram", "control", island)) %>%
mutate(m = if_else(gap == "gap", -1 * m, m),
m = if_else(m<0, 0, m)) %>%
spread(island, m) %>%
mutate(reduction = 1 - (1 / (control / island))) %>%
mutate(gap = if_else(gap=="gap", "Gap", "No Gap")) %>%
filter(model != "NGRAM") %>%
mutate(lab = substr(as.character(reduction), 0, 4),
lab = if_else(lab == "NaN", "", lab)) %>%
ggplot(aes(x=test, y=model, fill=reduction)) +
theme_bw() +
geom_tile() +
#geom_text(aes(label=paste(substr(value, 0, 3), "\n rank:", rank, sep="")), size = 2.5) +
geom_text(aes(label = lab)) +
#scale_fill_viridis(direction=1, option = "magma", begin=0.25) +
scale_fill_gradient2(low = "#3abd26", mid = "white", high = "#33489c", midpoint = 0) +
#labs(fill = "Percent\nReduction") +
facet_wrap(~gap) +
ggtitle("Percent Reduction in Wh-Effects between Islands/Controls") +
theme(
axis.title = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1)
)
ggsave("./images/precent_reduction.pdf", height = 3.5, width = 9, device=cairo_pdf)
adj = read_csv("./island_dfs/adjunct.csv") %>% mutate(test = "Adjunct")
cnp = read_csv("./island_dfs/cnp.csv") %>% mutate(test = "ComplexNP")
coord = read_csv("./island_dfs/coord.csv") %>% mutate(test = "Coordinate")
lb = read_csv("./island_dfs/lb.csv") %>% mutate(test = "LeftBranch")
sent_subj = read_csv("./island_dfs/sent_subj.csv") %>% mutate(test = "SentSubj")
subj = read_csv("./island_dfs/subj.csv") %>% mutate(test = "Subj")
wh = read_csv("./island_dfs/wh.csv") %>% mutate(test = "Wh")
island_effects = rbind(adj, cnp, coord, lb, sent_subj, subj, wh)
island_effects %>%
select(-upper, -lower, -s) %>%
filter(island != "that", island != "first") %>%
mutate(island = if_else(island == "obj", "gram", island),
island = if_else(island == "lb", "island", island),
island = if_else(island == "ss", "island", island),
island = if_else(island == "second", "island", island),
island = if_else(island == "subj", "island", island),
island = if_else(island == "wh", "island", island),
island = if_else(island == "nocomp", "gram", island),
island = if_else(island == "gram", "control", island)) %>%
mutate(m = if_else(gap == "gap", -1 * m, m),
m = if_else(m<0, 0, m)) %>%
spread(island, m) %>%
mutate(reduction = 1 - (1 / (control / island))) %>%
mutate(gap = if_else(gap=="gap", "Gap", "No Gap")) %>%
filter(model != "NGRAM") %>%
mutate(lab = substr(as.character(reduction), 0, 4),
lab = if_else(lab == "NaN", "", lab)) %>%
ggplot(aes(x=test, y=model, fill=reduction)) +
theme_bw() +
geom_tile() +
#geom_text(aes(label=paste(substr(value, 0, 3), "\n rank:", rank, sep="")), size = 2.5) +
geom_text(aes(label = lab)) +
#scale_fill_viridis(direction=1, option = "magma", begin=0.25) +
scale_fill_gradient2(low = "#bd263d", mid = "white", high = "#33489c", midpoint = 0) +
#labs(fill = "Percent\nReduction") +
facet_wrap(~gap) +
ggtitle("Percent Reduction in Wh-Effects between Islands/Controls") +
theme(
axis.title = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1)
)
ggsave("./images/precent_reduction.pdf", height = 3.5, width = 9, device=cairo_pdf)
adj = read_csv("./island_dfs/adjunct.csv") %>% mutate(test = "Adjunct")
cnp = read_csv("./island_dfs/cnp.csv") %>% mutate(test = "ComplexNP")
coord = read_csv("./island_dfs/coord.csv") %>% mutate(test = "Coordinate")
lb = read_csv("./island_dfs/lb.csv") %>% mutate(test = "LeftBranch")
sent_subj = read_csv("./island_dfs/sent_subj.csv") %>% mutate(test = "SentSubj")
subj = read_csv("./island_dfs/subj.csv") %>% mutate(test = "Subj")
wh = read_csv("./island_dfs/wh.csv") %>% mutate(test = "Wh")
island_effects = rbind(adj, cnp, coord, lb, sent_subj, subj, wh)
island_effects %>%
select(-upper, -lower, -s) %>%
filter(island != "that", island != "first") %>%
mutate(island = if_else(island == "obj", "gram", island),
island = if_else(island == "lb", "island", island),
island = if_else(island == "ss", "island", island),
island = if_else(island == "second", "island", island),
island = if_else(island == "subj", "island", island),
island = if_else(island == "wh", "island", island),
island = if_else(island == "nocomp", "gram", island),
island = if_else(island == "gram", "control", island)) %>%
mutate(m = if_else(gap == "gap", -1 * m, m),
m = if_else(m<0, 0, m)) %>%
spread(island, m) %>%
mutate(reduction = 1 - (1 / (control / island))) %>%
mutate(gap = if_else(gap=="gap", "Gap", "No Gap")) %>%
filter(model != "NGRAM") %>%
mutate(lab = substr(as.character(reduction), 0, 4),
lab = if_else(lab == "NaN", "", lab)) %>%
ggplot(aes(x=test, y=model, fill=reduction)) +
theme_bw() +
geom_tile() +
#geom_text(aes(label=paste(substr(value, 0, 3), "\n rank:", rank, sep="")), size = 2.5) +
geom_text(aes(label = lab)) +
#scale_fill_viridis(direction=1, option = "magma", begin=0.25) +
scale_fill_gradient2(low = "red", mid = "white", high = "blue", midpoint = 0) +
#labs(fill = "Percent\nReduction") +
facet_wrap(~gap) +
ggtitle("Percent Reduction in Wh-Effects between Islands/Controls") +
theme(
axis.title = element_blank(),
axis.text.x = element_text(angle = 45, hjust = 1)
)
ggsave("./images/precent_reduction.pdf", height = 3.5, width = 9, device=cairo_pdf)
effect_df = data.frame(
model_name = c("GPT2", "GPT3", "GRNN", "JRNN"),
Adjunct = c(5.3371848636570558000, 5.1090646768809770961, 3.0545335243333036068, 6.0738857427858166105),
Complex_NP = c(4.5803629791230990875, 4.2899146890715540437, 2.7689102622015875355, 5.9525923247316825382),
Coordination = c(8.2249527685344201444, 6.6653563130850699281, 8.2661566890776754235, 9.3086483806253781381),
Left_Branch = c(2.2516639377921134901, 5.3584103464002028616, 3.6353099256755054824, 4.1625028997661308594),
Sentential_Subj = c(1.3585723645630769507, 2.6110664404761818602, 1.3510029088881994053, 4.8766840387667480528),
Subject = c(3.67268553714860779280, 4.34609290042826490463, 1.70132635804736098706, 3.87447574870150512893),
Wh = c(4.6440742471410585424, 4.1495286532916511035, 6.9288595011457632111, 7.7575216918873195482)
) %>%
gather(island, model_effect, 2:8)
sig_df = data.frame(
model_name = c("GPT2", "GPT3", "GRNN", "JRNN"),
Adjunct = c("***", "***", "***", "***"),
Complex_NP = c("***", "***", "***", "***"),
Coordination = c("***", "***", "***", "***"),
Left_Branch = c("N.S.", "**", "**", "*"),
Sentential_Subj = c("N.S.", "*", "N.S.", "*"),
Subject = c("***", "**", "N.S.", "*"),
Wh = c("***", "***", "**", "**")
) %>%
gather(island, significance, 2:8)
summary_df = merge(effect_df, sig_df, by=c("island", "model_name"))
sig_scale = c("***" = "green", "**" = "green", "*" = "green", "N.S." = "#5e5e5e")
summary_df %>%
group_by(model_name) %>%
arrange(desc(model_effect)) %>%
mutate(rank = row_number()) %>%
ungroup() %>%
#mutate(rank = if_else(significance == "N.S.", 0, as.double(rank))) %>%
ggplot(aes(x=island, y=model_name, fill=rank)) +
theme_bw() +
geom_tile() +
geom_label(aes(color=significance, label=paste(significance, "\n", substr(model_effect, 0, 3), sep="")), label.padding = unit(0.5, "lines")) +
scale_color_manual(values = sig_scale) +
scale_fill_gradient2(low = "white", high = "blue") +
ggtitle("Summary of Island Results: Effect Sizes and Significance") +
theme(
axis.title = element_blank(),
axis.text = element_text(size = 12),
legend.position = "none"
)
ggsave("./images/effect_size.pdf", width = 9, height = 4, device = cairo_pdf)
effect_df = data.frame(
model_name = c("GPT2", "GPT3", "GRNN", "JRNN"),
Adjunct = c(5.3371848636570558000, 5.1090646768809770961, 3.0545335243333036068, 6.0738857427858166105),
Complex_NP = c(4.5803629791230990875, 4.2899146890715540437, 2.7689102622015875355, 5.9525923247316825382),
Coordination = c(8.2249527685344201444, 6.6653563130850699281, 8.2661566890776754235, 9.3086483806253781381),
Left_Branch = c(2.2516639377921134901, 5.3584103464002028616, 3.6353099256755054824, 4.1625028997661308594),
Sentential_Subj = c(1.3585723645630769507, 2.6110664404761818602, 1.3510029088881994053, 4.8766840387667480528),
Subject = c(3.67268553714860779280, 4.34609290042826490463, 1.70132635804736098706, 3.87447574870150512893),
Wh = c(4.6440742471410585424, 4.1495286532916511035, 6.9288595011457632111, 7.7575216918873195482)
) %>%
gather(island, model_effect, 2:8)
sig_df = data.frame(
model_name = c("GPT2", "GPT3", "GRNN", "JRNN"),
Adjunct = c("***", "***", "***", "***"),
Complex_NP = c("***", "***", "***", "***"),
Coordination = c("***", "***", "***", "***"),
Left_Branch = c("N.S.", "**", "**", "*"),
Sentential_Subj = c("N.S.", "*", "N.S.", "*"),
Subject = c("***", "**", "N.S.", "*"),
Wh = c("***", "***", "**", "**")
) %>%
gather(island, significance, 2:8)
summary_df = merge(effect_df, sig_df, by=c("island", "model_name"))
sig_scale = c("***" = "green", "**" = "green", "*" = "green", "N.S." = "#5e5e5e")
summary_df %>%
group_by(model_name) %>%
arrange(desc(model_effect)) %>%
mutate(rank = row_number()) %>%
ungroup() %>%
#mutate(rank = if_else(significance == "N.S.", 0, as.double(rank))) %>%
ggplot(aes(x=island, y=model_name, fill=rank)) +
theme_bw() +
geom_tile() +
geom_label(aes(color=significance, label=paste(significance, "\n", substr(model_effect, 0, 3), sep="")), label.padding = unit(0.5, "lines")) +
scale_color_manual(values = sig_scale) +
scale_fill_gradient2(low = "blue", high = "white") +
ggtitle("Summary of Island Results: Effect Sizes and Significance") +
theme(
axis.title = element_blank(),
axis.text = element_text(size = 12),
legend.position = "none"
)
ggsave("./images/effect_size.pdf", width = 9, height = 4, device = cairo_pdf)
effect_df = data.frame(
model_name = c("GPT2", "GPT3", "GRNN", "JRNN"),
Adjunct = c(5.3371848636570558000, 5.1090646768809770961, 3.0545335243333036068, 6.0738857427858166105),
Complex_NP = c(4.5803629791230990875, 4.2899146890715540437, 2.7689102622015875355, 5.9525923247316825382),
Coordination = c(8.2249527685344201444, 6.6653563130850699281, 8.2661566890776754235, 9.3086483806253781381),
Left_Branch = c(2.2516639377921134901, 5.3584103464002028616, 3.6353099256755054824, 4.1625028997661308594),
Sentential_Subj = c(1.3585723645630769507, 2.6110664404761818602, 1.3510029088881994053, 4.8766840387667480528),
Subject = c(3.67268553714860779280, 4.34609290042826490463, 1.70132635804736098706, 3.87447574870150512893),
Wh = c(4.6440742471410585424, 4.1495286532916511035, 6.9288595011457632111, 7.7575216918873195482)
) %>%
gather(island, model_effect, 2:8)
sig_df = data.frame(
model_name = c("GPT2", "GPT3", "GRNN", "JRNN"),
Adjunct = c("***", "***", "***", "***"),
Complex_NP = c("***", "***", "***", "***"),
Coordination = c("***", "***", "***", "***"),
Left_Branch = c("N.S.", "**", "**", "*"),
Sentential_Subj = c("N.S.", "*", "N.S.", "*"),
Subject = c("***", "**", "N.S.", "*"),
Wh = c("***", "***", "**", "**")
) %>%
gather(island, significance, 2:8)
summary_df = merge(effect_df, sig_df, by=c("island", "model_name"))
sig_scale = c("***" = "green", "**" = "green", "*" = "green", "N.S." = "#5e5e5e")
summary_df %>%
group_by(model_name) %>%
arrange(desc(model_effect)) %>%
mutate(rank = row_number()) %>%
ungroup() %>%
#mutate(rank = if_else(significance == "N.S.", 0, as.double(rank))) %>%
ggplot(aes(x=island, y=model_name, fill=rank)) +
theme_bw() +
geom_tile() +
geom_label(aes(color=significance, label=paste(significance, "\n", substr(model_effect, 0, 3), sep="")), label.padding = unit(0.5, "lines")) +
scale_color_manual(values = sig_scale) +
#scale_fill_gradient2(low = "blue", high = "white") +
ggtitle("Summary of Island Results: Effect Sizes and Significance") +
theme(
axis.title = element_blank(),
axis.text = element_text(size = 12),
legend.position = "none"
)
ggsave("./images/effect_size.pdf", width = 9, height = 4, device = cairo_pdf)
